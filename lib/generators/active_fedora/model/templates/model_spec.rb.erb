# Generated via
#  `rails generate active_fedora::model <%= class_name %>`
require 'spec_helper'
require 'active_fedora/test_support'

describe <%= class_name %> do
  include ActiveFedora::TestSupport
  subject { <%= class_name %>.new }

  it 'should persist to Fedora' do
    subject.save!
    expect {
      subject.reload
    }.to_not raise_error(ActiveFedora::ObjectNotFoundError)

    subject.destroy
  end

  it 'should have a descMetadata datastream' do
    subject.descMetadata.should be_kind_of <%= options['descMetadata'] ? options['descMetadata'] : "#{class_name}Metadata" %>
  end

end
